{%extends 'base.html'%}
{% load bootstrap3 %}
{% block content %}
 <div class="container"> 
    <h1>WELLCOME TO THIS GALLERY!!</h1>

  {% if images %}
    {% for img in images %}
    <div>
      <div class="col-xs-4"> 
          <div class="row" >
              <h1>{{img.name}}</h1>
              {% if img.image %}
              <a data-toggle="modal" data-target="#{{img.id}}">
              <img src="{{img.image.url}}" alt="image" width='300' length='500' ></a>
          </div> 
      </div> 

          <div id="{{img.id}}" class="modal fade" role="dialog" >
            <div class="modal-dialog">
          
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  
                  <h3 class="modal-name"><strong>{{img.name}}</strong></h3>
                </div>
                <div class="modal-body">
                  <img src="{{img.image.url}}" alt="Image" width='400' length='500'>
                  <p><strong><em>Description:{{img.description}}</em></strong></p><br>
                  <h5><strong>Taken in:</strong>{{img.location}}</h5> <hr><hr>
                  

                </div>

                
                <div class="modal-footer">
                  
                  <button type="button" class="btn btn-default" data-dismiss="modal" >Quit</button>
                </div>

                  <div class="modal-footer">
                      <input class="form-control input-lg" type="text"  value="http://127.0.0.1:8000{{img.image.url}}" id="{{img.id}}-url" >
                      <button class="btn btn-outline-succes" onclick="copyUrl('{{img.id}}-url')">Copy Image Url</button>
                    </div>
                  
              </div>
        
            </div>
            <script type="text/javascript">
              function copyUrl(element){
                var myVar = document.getElementById(element);
                myVar.select();
                document.execCommand('copy');
                alert("Copied the link of image: " + myVar.value);  
              }
            </script>
        
                </div>
              </div>
          
            </div> 
        </div> <br>
          {% else %}
          <div>NO IMAGE</div>
          {% endif %}
  </div>
    {% endfor %}
  {% endif %}
  
{% endblock %}

